// Generated by CoffeeScript 1.6.3
var fillTypeField;

$('#auto-fill').on('click', function(event) {
  event.preventDefault();
  return $.ajax({
    url: $(this).attr('href'),
    type: 'GET',
    dataType: 'json',
    success: function(data, textStatus, jqXHR) {
      return $.each(data, function(index, type) {
        return fillTypeField(type.value, type.name);
      });
    },
    error: function(jqxHR, textStatus, errorThrown) {},
    beforeSend: function(jqxHR, setting) {
      return $('#modal-alert').modal('show');
    },
    complete: function(jqxHR, textStatus) {
      return $('#modal-alert').find('.close').click();
    }
  });
});

fillTypeField = function(value, name) {
  return $("<div class=\"control-group unsave\">        <label class=\"control-label\">項目</label>        <div class=\"controls controls-row\">            <input type=\"text\" class=\"field\" name=\"type[]\" value=\"" + name + "\" />            <input type=\"text\" class=\"field\" name=\"type_en_US[]\" value=\"\" placeholder=\"分類英文顯示名稱\" />            <input type=\"text\" class=\"field\" name=\"value[]\" value=\"" + value + "\" placeholder=\"教師歷程系統分類值\" />         </div>    </div>").insertBefore('.unsave:last');
};

$('#type-sort').sortable();
