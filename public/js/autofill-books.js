// Generated by CoffeeScript 1.6.3
var fillBookField;

$('#auto-fill').on('click', function(event) {
  event.preventDefault();
  return $.ajax({
    url: $(this).attr('href'),
    type: 'GET',
    dataType: 'json',
    success: function(data, textStatus, jqXHR) {
      return $.each(data, function(index, book) {
        return fillBookField(book);
      });
    },
    error: function(jqxHR, textStatus, errorThrown) {},
    beforeSend: function(jqxHR, setting) {
      return $('#modal-alert').modal('show');
    },
    complete: function(jqxHR, textStatus) {
      return $('#modal-alert').find('.close').click();
    }
  });
});

fillBookField = function(book) {
  return $("<div class=\"control-group unsave\">        <a class=\"close pull-left\" data-dismiss=\"alert\">&times;</a>        <label class=\"control-label\">標題</label>        <div class=\"controls\">            <input type=\"text\" class=\"field input-block-level\" name=\"book[]\" value=\"" + book + "\" />        </div>    </div>").insertBefore('.unsave:last');
};
